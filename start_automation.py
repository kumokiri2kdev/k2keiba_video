import logging

from k2kvideo import rpa


logging.config.fileConfig('logging.ini', disable_existing_loggers=False)
logger = logging.getLogger(__name__)


if __name__ == '__main__':
    races =[
        'pw01sde1006201901010120190105/04',
        'pw01sde1006201901010220190105/B9',
        'pw01sde1006201901010320190105/6E',
        'pw01sde1006201901010420190105/23',
        'pw01sde1006201901010520190105/D8',
        'pw01sde1006201901010620190105/8D',
        'pw01sde1006201901010720190105/42',
        'pw01sde1006201901010820190105/F7',
        'pw01sde1006201901010920190105/AC',
        'pw01sde1006201901011020190105/A1',
        'pw01sde1006201901011120190105/56',
        'pw01sde1006201901011220190105/0B',
        'pw01sde1008201901010120190105/98',
        'pw01sde1008201901010220190105/4D',
        'pw01sde1008201901010320190105/02',
        'pw01sde1008201901010420190105/B7',
        'pw01sde1008201901010520190105/6C',
        'pw01sde1008201901010620190105/21',
        'pw01sde1008201901010720190105/D6',
        'pw01sde1008201901010820190105/8B',
        'pw01sde1008201901010920190105/40',
        'pw01sde1008201901011020190105/35',
        'pw01sde1008201901011120190105/EA',
        'pw01sde1008201901011220190105/9F',
        'pw01sde1006201901020120190106/34',
        'pw01sde1006201901020220190106/E9',
        'pw01sde1006201901020320190106/9E',
        'pw01sde1006201901020420190106/53',
        'pw01sde1006201901020520190106/08',
        'pw01sde1006201901020620190106/BD',
        'pw01sde1006201901020720190106/72',
        'pw01sde1006201901020820190106/27',
        'pw01sde1006201901020920190106/DC',
        'pw01sde1006201901021020190106/D1',
        'pw01sde1006201901021120190106/86',
        'pw01sde1006201901021220190106/3B',
        'pw01sde1008201901020120190106/C8',
        'pw01sde1008201901020220190106/7D',
        'pw01sde1008201901020320190106/32',
        'pw01sde1008201901020420190106/E7',
        'pw01sde1008201901020520190106/9C',
        'pw01sde1008201901020620190106/51',
        'pw01sde1008201901020720190106/06',
        'pw01sde1008201901020820190106/BB',
        'pw01sde1008201901020920190106/70',
        'pw01sde1008201901021020190106/65',
        'pw01sde1008201901021120190106/1A',
        'pw01sde1008201901021220190106/CF'
    ]


    rpa = rpa.RpaJRAVideoFireFox()

    for race in races:
        for i in range(2):
            try:
                logger.info('Race ID : {}'.format(race))
                rpa.start_automated_process(race)
            except rpa.RpaJRAVideoPlayFail:
                logger.warning('RpaJRAVideoPlayFail')



